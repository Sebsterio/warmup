/*! warmup v0.0.1 | (c) 2020 Sebastian Rosloniec | ISC License | git+https://github.com/Sebsterio/warmup.git */
!(function(){const e=document.querySelector(".house__panel--new-link form"),t=e.querySelector("#house__input--type"),u=e.querySelector("#house__input--ratio"),n=e.querySelector("[for=house__input--ratio]"),r=e.querySelector("#house__input--url"),i=e.querySelector(".house__preview--media"),o=e.querySelector(".house__input--submit");function a(e){e?(u.removeAttribute("hidden"),n.removeAttribute("hidden")):(u.setAttribute("hidden",!0),n.setAttribute("hidden",!0))}function d(){"YT embed"===e.type.value?a(!0):a(!1)}t.addEventListener("input",d),r.addEventListener("input",(function(t){const u=t.target.value;"image"!==e.type.value?"video"!==e.type.value&&e.type.value:(function(e,t){var u=new Image;u.src=e,u.onload=t})(u,()=>{i.innerHTML=`<img src="${u}" alt="preview">`,o.removeAttribute("disabled")})})),o.addEventListener("click",(function(t){t.preventDefault();const u={type:e.type.value,name:e.name.value,link:e.url.value,ratio:e.ratio.value};window.houseState.currentMedia=[u,...window.houseState.currentMedia],window.houseFirestore.update(window.houseState.currentMedia,()=>{alert("Love shared succesfullly")}),e.reset(),i.innerHTML=""})),d()})();