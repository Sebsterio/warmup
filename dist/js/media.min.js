/*! warmup v0.0.1 | (c) 2020 Sebastian Rosloniec | ISC License | git+https://github.com/Sebsterio/warmup.git */
!(function(){const e=document.querySelector(".house"),t=e.querySelectorAll(".house__media-container"),{disableYTEmbeds:i,disableVideo:n,disableImages:r,YT_PARAMS:o}=houseConfig;let c=window.innerWidth;function a(e,t,o,a){return"video"!==e||n?"image"!==e||r?"YT embed"===e&&!i&&c>800?createYTEmbed(a,t,o):"":`<img class="image" src="${t}" alt=":)">`:`<video class="video" autoplay muted loop src="${t}"></video>`}window.createYTEmbed=function(e,t,i){const n=e.getBoundingClientRect().height;i||(i=1.5);const r=t.split("?"),c=r[0].replace("https://www.youtube.com/embed/","").match(/[^\?\/]+/),a=o+"&playlist="+c;return`<div class="embed"><iframe\n\t\t\tdata-ratio="${i}"\n\t\t\twidth="${n*i}px"\n\t\t\theight="${n}px"\n\t\t\tsrc="${r[0]+a}"\n\t\t\tframeborder="0"\n\t\t\tallow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n\t\t></iframe></div>`},window.houseFirestore.fetch((function(i){houseState.currentMedia=i,(function(e){if(!e.length)return;let i=0;t.forEach((t,n)=>{if(!e[i])return;let r="";for(;""===r;){if(!e[i])return;const{type:n,link:o,ratio:c}=e[i];r=a(n,o,c,t),i++}r+=`<div class="media__filter" style="--index: ${n}"></div>`,t.innerHTML=r})})(i),e.querySelectorAll("video").forEach((e,t)=>{e.currentTime+=5*t})})),window.addEventListener("resize",(function(){c=window.innerWidth,t.forEach(e=>{const t=e.querySelector("iframe");if(!t)return;const i=e.getBoundingClientRect().height,n=t.dataset.ratio;t.width=i*n,t.height=i})}))})();