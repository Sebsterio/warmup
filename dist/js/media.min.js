/*! warmup v0.0.1 | (c) 2020 Sebastian Rosloniec | ISC License | git+https://github.com/Sebsterio/warmup.git */
!(function(){const e=document.querySelector(".house"),t=e.querySelectorAll(".house__media-container"),{disableYTEmbeds:i,disableVideo:n,disableImages:r,YT_PARAMS:o}=houseConfig;let a=window.innerWidth;function c(e,t,c,d){if("video"===e&&!n)return`<video class="video" autoplay muted loop src="${t}"></video>`;if("image"===e&&!r)return`<img class="image" src="${t}" alt=":)">`;if("YT embed"===e&&!i&&a>800){const e=d.getBoundingClientRect().height;c||(c=1.5);const i=t.split("?"),n=i[0].replace("https://www.youtube.com/embed/","").match(/[^\?\/]+/),r=o+"&playlist="+n;return`<div class="embed"><iframe\n\t\t\t\tdata-ratio="${c}"\n\t\t\t\twidth="${e*c}px"\n\t\t\t\theight="${e}px"\n\t\t\t\tsrc="${i[0]+r}"\n\t\t\t\tframeborder="0"\n\t\t\t\tallow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n\t\t\t></iframe></div>`}return""}window.houseFirestore.fetch((function(i){houseState.currentMedia=i,(function(e){if(!e.length)return;let i=0;t.forEach((t,n)=>{if(!e[i])return;let r="";for(;""===r;){if(!e[i])return;const{type:n,link:o,ratio:a}=e[i];r=c(n,o,a,t),i++}r+=`<div class="media__filter" style="--index: ${n}"></div>`,t.innerHTML=r})})(i),e.querySelectorAll("video").forEach((e,t)=>{e.currentTime+=5*t})})),window.addEventListener("resize",(function(){a=window.innerWidth,t.forEach(e=>{const t=e.querySelector("iframe");if(!t)return;const i=e.getBoundingClientRect().height,n=t.dataset.ratio;t.width=i*n,t.height=i})}))})();